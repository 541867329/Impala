From 221b7d0eb3f3763ad2c27e7e052d33d7a1f80ddb Mon Sep 17 00:00:00 2001
From: Sean Busbey <busbey@apache.org>
Date: Tue, 30 Jun 2015 16:21:10 -0500
Subject: [PATCH 196/226] HBASE-14003 work around JDK-8044053

Change-Id: I49cf39fb5ae8ab5a6151410f213b6525c9fb1df4
Reason: jdk8
Author: Sean Busbey
Ref: CDH-23461
---
 .../hadoop/hbase/wal/WALPerformanceEvaluation.java |    3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

diff --git a/hbase-server/src/test/java/org/apache/hadoop/hbase/wal/WALPerformanceEvaluation.java b/hbase-server/src/test/java/org/apache/hadoop/hbase/wal/WALPerformanceEvaluation.java
index 05d5e51..4b869c3 100644
--- a/hbase-server/src/test/java/org/apache/hadoop/hbase/wal/WALPerformanceEvaluation.java
+++ b/hbase-server/src/test/java/org/apache/hadoop/hbase/wal/WALPerformanceEvaluation.java
@@ -307,7 +307,8 @@ public final class WALPerformanceEvaluation extends Configured implements Tool {
     LOG.info("FileSystem: " + fs);
 
     SpanReceiverHost receiverHost = trace ? SpanReceiverHost.getInstance(getConf()) : null;
-    TraceScope scope = Trace.startSpan("WALPerfEval", trace ? Sampler.ALWAYS : Sampler.NEVER);
+    final Sampler<?> sampler = trace ? Sampler.ALWAYS : Sampler.NEVER;
+    TraceScope scope = Trace.startSpan("WALPerfEval", sampler);
 
     try {
       if (rootRegionDir == null) {
-- 
1.7.9.5

